

# Unified Student Password Implementation

## Overview

This implementation will set a unified default password of `123456` for all student accounts while keeping the LRN as the unique login identifier.

## Current System

Currently, when student accounts are created:
- **Username**: LRN (already unique and working)
- **Password**: Random 12-character string generated by `generatePassword()` function

## Changes Required

### Edge Function: `supabase/functions/create-users/index.ts`

Replace dynamic password generation with static password for students:

| Location | Current Behavior | New Behavior |
|----------|-----------------|--------------|
| `bulk_create_students` | `generatePassword()` | `"123456"` |
| `create_single_student` | `generatePassword()` | `"123456"` |
| `reset_student_password` | `generatePassword()` | `"123456"` |

### Implementation Details

```text
Before:
  const password = generatePassword();  // Random: "xK3$pN8rQm2!"

After:
  const password = "123456";  // Unified for all students
```

### What Stays the Same

- Login uses **LRN as username** (maps to `LRN@mabdc.org` or `LRN@stfxsa.org` internally)
- Admin and staff accounts continue using random or custom passwords
- Authentication flow remains unchanged
- Credential slips will show `123456` for all students

## Files to Modify

| File | Changes |
|------|---------|
| `supabase/functions/create-users/index.ts` | Use `"123456"` instead of `generatePassword()` for student actions |

## User Experience

After implementation:
1. **New students** enrolled will get password `123456`
2. **Bulk account creation** will assign `123456` to all students
3. **Password resets** for students will reset to `123456`
4. **Credential slips** will print with password `123456`

## Security Consideration

This unified password simplifies distribution but students should be encouraged to change their password after first login. The credential slip already includes this message: "Please change your password after first login".

